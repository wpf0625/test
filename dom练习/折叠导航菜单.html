<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		ul{
			list-style: none;
		}
		#menu-box{
			width: 200px;
			border: 1px solid #000;
		}
		#menu-box h3{
			background: #000;
			color: #fff;
		}
		#menu-box ul{
			display: none;
		}
	</style>
</head>
<body>
	<ul id="menu-box">
		<li class="main-menu">
			<h3>管理区</h3>
			<ul>
				<li>111</li>
				<li>222</li>
				<li>333</li>
			</ul>
		</li>
		<li class="main-menu">
			<h3>交流区</h3>
			<ul>
				<li>111</li>
				<li>222</li>
				<li>333</li>
			</ul>
		</li>
	</ul>

	<script>
		function getClass(clsName,context){
			var result = [];
			context = context || document;
			var arr = context.getElementsByTagName('*');

			for(var i=0;i<arr.length;i++){
				if(arr[i].className.indexOf(clsName) != -1){
					result.push(arr[i]);
				}				
			}
			return result;
		}
		// var oMenuBox = document.getElementById('menu-box');
		// var aLi = getClass('main-menu',oMenuBox);

		// for(i=0;i<aLi.length;i++){
		// 	aLi[i].onclick = function(){
		// 		var oUl = this.getElementsByTagName('ul')[0];
		// 		// if(oUl.style.display == 'none' || oUl.style.display == ''){
		// 		// 	oUl.style.display == 'block';//.style只能取到内联
		// 		// }else{
		// 		// 	oUl.style.display == 'none';
		// 		// }

		// 		if(oUl.style.display == 'block'){
		// 			oUl.style.display = 'none';//.style只能取到内联
		// 		}else{
		// 			oUl.style.display = 'block';
		// 		}
		// 	}
		// }
		function next(elem){
			do{
				elem = elem.nextSibling;
			}while(elem && elem.nodeType != 1);
			return elem;
		}
		var aH3 = document.getElementsByTagName('h3'),
			oMenuBox = document.getElementById('menu-box'),
			aUl = oMenuBox.getElementsByTagName('ul');
		for(var i=0;i<aH3.length;i++){
			aH3[i].index = i;// aH3[0].index = 0; aH3[1].index = 1;
			aH3[i].onclick = function(){
				// var oUl = aUl[this.index];
				var oUl = next(this);
				if(oUl.style.display == 'none' || oUl.style.display == ''){
					oUl.style.display = 'block';
				}else{
					oUl.style.display = 'none';
				}
			}
		}

	</script>
</body>
</html>